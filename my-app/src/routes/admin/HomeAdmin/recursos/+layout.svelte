<script lang="ts">
  import Empleado from "$lib/components/registrarEmpleado.svelte";
  import maquinaria from "$lib/components/registrarMaquinaria.svelte";

  let searchTerm = '';
  
  interface Empleado {
      cedula: string;
      nombres: string;
      apellidos: string;
      telefono: string[];
      correo: string[];
      area_trabajo: string;
      sueldo: string;
      especialidad:string;
      rol:string;
    }

    interface Maquinaria {
      tipo_maquinaria: string;
      nombre: string;
      placa_identificacion: string;
      marca: string;
      modelo: string;
      estado: string[];
      fecha_adquisicion: Date;
      ubicacion: string;
      valor: string;
      comentario:string;
    }
  
    // Ahora declara 'datos' con el tipo expl√≠cito 'Dato[]'
    let maquinarias: Maquinaria[] = [
  {
    tipo_maquinaria: "Excavadora",
    nombre: "CAT 320D",
    placa_identificacion: "ABC123",
    marca: "Caterpillar",
    modelo: "320D",
    estado: ["Operativa"],
    fecha_adquisicion: new Date("2022-05-15"),
    ubicacion: "Obra de construcci√≥n",
    valor: "USD 150,000",
    comentario: "Buena condici√≥n general",
  },
  {
    tipo_maquinaria: "Gr√∫a",
    nombre: "Liebherr LTM 1200-5.1",
    placa_identificacion: "XYZ789",
    marca: "Liebherr",
    modelo: "LTM 1200-5.1",
    estado: ["En mantenimiento"],
    fecha_adquisicion: new Date("2021-10-01"),
    ubicacion: "Dep√≥sito",
    valor: "EUR 800,000",
    comentario: "Necesita reparaciones",
  },
  // Agrega m√°s registros seg√∫n tus necesidades
];
  
    // Ahora declara 'datos' con el tipo expl√≠cito 'Dato[]'
    let empleados: Empleado[] = [{
      cedula: 'V-12345678',
      nombres: 'Juan',
      apellidos: 'P√©rez',
      telefono: ['+58-212-1234567', '+58-412-7654321'],
      correo: ['juan.perez@example.com', 'jperez@workemail.com'],
      area_trabajo: 'Ingenier√≠a',
      sueldo: '2500$',
      especialidad: 'Desarrollo de Software',
      rol:'empleado'
  },
  {
      cedula: 'E-87654321',
      nombres: 'Mar√≠a',
      apellidos: 'Gonz√°lez',
      telefono: ['+58-212-7654321', '+58-416-1234567'],
      correo: ['maria.gonzalez@example.com', 'mgonzalez@workemail.com'],
      area_trabajo: 'Recursos Humanos',
      sueldo: '2000$',
      especialidad: 'Gesti√≥n del Talento',
      rol:'empleado'
  },
  {
      cedula: 'V-12344321',
      nombres: 'Carlos',
      apellidos: 'Mart√≠nez',
      telefono: ['+58-212-9876543', '+58-414-6543210'],
      correo: ['carlos.martinez@example.com', 'cmartinez@workemail.com'],
      area_trabajo: 'Marketing',
      sueldo: '2200$',
      especialidad: 'Estrategia Digital',
      rol:'admin'
  }
      // Tus datos aqu√≠
    ];

  const fecha=new Date();
  function search() {
    // L√≥gica de b√∫squeda
    console.log(`Buscando: ${searchTerm}`); 
    }
    let min=0;
    let max=100000;

    function getRandomNumber(min:number, max:number) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    let numeroAleatorio = getRandomNumber(1, 100);

    function editarRegistro(index: number) {
      // L√≥gica para editar el registro en 'datos'
      console.log(`Editando registro en √≠ndice ${index}`);
    }

  // Funci√≥n para eliminar un registro
    function eliminarRegistro(index: number) {
      // L√≥gica para eliminar el registro en 'datos'
      console.log(`Eliminando registro en √≠ndice ${index}`);
    }

  </script>
  <h2>Recursos</h2>
<div class="tablas">  
  <table>
    <thead>
      <tr>
        <th>Nombre Empleado</th>
        <th>Area De Trabajo</th>
        <th>Sueldo</th>
      </tr>
    </thead>
    <tbody>
      {#each empleados as empleado, i}
        <tr>
          <td>{empleado.nombres,empleado.apellidos}</td>
          <td>{empleado.area_trabajo}</td>
          <td>{empleado.sueldo}</td>
            <div class="botonesUD">
              <a href=/admin/HomeAdmin/actividades>
                <button on:click={() => editarRegistro(i)}>
                  <span>‚úèÔ∏è</span> <!-- Icono de l√°piz -->
                </button>
              </a>
                <button on:click={() => eliminarRegistro(i)}>
                  <span>üóëÔ∏è</span> <!-- Icono de papelera -->
                </button>
            </div>
        </tr>
      {/each}
    </tbody>
    <a href="/admin/HomeAdmin/registrar/proyecto/configuracionProyecto/configurarEtapa/configurarActividad">
      <button>Asignar Empleado</button>
    </a>
  </table>
  <table>
    <thead>
      <tr>
        <th>Tipo Maquinaria</th>
        <th>Marca</th>
        <th>Valor</th>
      </tr>
    </thead>
    <tbody>
      {#each maquinarias as maquinaria, i}
        <tr>
          <td>{maquinaria.tipo_maquinaria}</td>
            <td>{maquinaria.marca}</td>
              <td>{maquinaria.valor}</td>  
          <div class="botonesUD">
              <a href=/admin/HomeAdmin/actividades>
                <button on:click={() => editarRegistro(i)}>
                  <span>‚úèÔ∏è</span> <!-- Icono de l√°piz -->
                </button>
              </a>
                <button on:click={() => eliminarRegistro(i)}>
                  <span>üóëÔ∏è</span> <!-- Icono de papelera -->
                </button>
            </div>
        </tr>
      {/each}
    </tbody>
    <a href="/admin/HomeAdmin/registrar/proyecto/configuracionProyecto/configurarEtapa/configurarActividad">
      <button>Asignar Maquinaria</button>
    </a>
  </table>
</div>
  <style>

    .tablas{
      display: flex;
    }

    .botonesUD{
        display: flex;
        background-color:white;
        color: #fff;
        border: none;
        border-radius: 3px;
        padding: 10px 20px;
    }

      table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #adadad;
      padding: 8px;
      text-align: left;
      font-family: 'Baskervville';
      font-style: light;
      align-items: center;
      text-align: center;
      letter-spacing: -0.03em;

    }
    thead {
      background-color:white;
    }

    button {
        background-color: #050505;
        color: #fff;
        border: none;
        border-radius: 3px;
        padding: 10px 20px;
        cursor: pointer;
        font-size: 16px;
    }
  </style>
  